<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>Novo Release</title>
  <style>
    body {
      margin:0; font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto;
      background:#f5f7fa; display:flex; justify-content:center; padding:40px;
    }
    .card {
      background:#fff; border-radius:16px; box-shadow:0 8px 30px rgba(0,0,0,.1);
      max-width:600px; width:100%; padding:30px;
    }
    h1 { margin:0 0 20px; font-size:24px; }
    label { display:block; margin:10px 0 5px; font-weight:500; }
    input, textarea {
      width:100%; padding:10px; border:1px solid #ddd; border-radius:10px;
      font-size:15px;
    }
    button {
      margin-top:20px; padding:12px 20px; border:none; border-radius:12px;
      background:linear-gradient(90deg,#0ea5e9,#2563eb); color:#fff;
      font-size:16px; font-weight:600; cursor:pointer;
    }
    button:hover { opacity:0.9; }
  </style>
</head>
<body>
  <div class="card">
    <h1>Cateno Gestão de Contas de Pagamento S.A.<br>Gerência de Ciência de Dados</h1>
    <form id="releaseForm">
      <label for="name">Nome</label>
      <input type="text" id="name" name="name" required>

      <label for="version">Versão</label>
      <input type="text" id="version" name="version">

      <label for="author">Autor</label>
      <input type="text" id="author" name="author">

      <label for="release_date">Data de Release</label>
      <input type="date" id="release_date" name="release_date">

      <label for="extraction_period">Período de Extração</label>
      <input type="text" id="extraction_period" name="extraction_period">

      <label for="description">Descrição</label>
      <textarea id="description" name="description" rows="4"></textarea>

      <button type="submit">Salvar</button>
    </form>
    <p id="status"></p>
  </div>

  <script>
    document.getElementById('releaseForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const data = Object.fromEntries(new FormData(e.target));
      const res = await fetch('/api/releases', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify(data)
      });
      document.getElementById('status').innerText = res.ok ? '✅ Salvo com sucesso!' : '❌ Erro ao salvar';
    });
  </script>
</body>
</html>
